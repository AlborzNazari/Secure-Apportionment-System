{% extends "base.html" %}

{% block content %}
<section class="hero">
    <h1>Fair Parliamentary Seat Allocation</h1>
    <p>Using the mathematically proven Huntington-Hill method with AES-256 encryption</p>
</section>

<section class="upload-section">
    <div class="card">
        <h2>üì§ Upload Vote Data</h2>
        
        <form id="uploadForm">
            <div class="form-group">
                <label for="csvFile">CSV File (Party, Votes):</label>
                <input type="file" id="csvFile" name="file" accept=".csv" required>
                <small>Format: Party Name, Number of Votes</small>
            </div>

            <div class="form-group">
                <label for="totalSeats">Total Seats:</label>
                <input type="number" id="totalSeats" name="seats" min="1" max="1000" required>
            </div>

            <button type="submit" class="btn btn-primary">üîÑ Calculate Allocation</button>
        </form>

        <div id="loadingSpinner" class="hidden">
            <p>‚è≥ Processing...</p>
        </div>
    </div>
</section>

<section id="resultsSection" class="hidden">
    <div class="card">
        <h2>üìä Results</h2>
        
        <div class="results-grid">
            <div id="resultsTable"></div>
            <div id="resultsChart"></div>
        </div>

        <div class="comparison">
            <h3>Vote-to-Seat Fairness</h3>
            <table id="fairnessTable">
                <thead>
                    <tr>
                        <th>Party</th>
                        <th>Votes (%)</th>
                        <th>Seats (%)</th>
                        <th>Difference</th>
                    </tr>
                </thead>
                <tbody id="fairnessBody"></tbody>
            </table>
        </div>

        <button id="downloadBtn" class="btn btn-secondary">üì• Download Results</button>
    </div>
</section>

<section id="about" class="info-section">
    <div class="card">
        <h2>‚ÑπÔ∏è About Huntington-Hill Method</h2>
        <p>
            The Huntington-Hill method (also called the method of equal proportions) is used to 
            allocate seats fairly among parties based on vote counts. It:
        </p>
        <ul>
            <li>‚úÖ Avoids the Alabama Paradox</li>
            <li>‚úÖ Minimizes relative inequality</li>
            <li>‚úÖ Satisfies house monotonicity</li>
            <li>‚úÖ Used by the U.S. House of Representatives</li>
        </ul>
    </div>
</section>
{% endblock %}
